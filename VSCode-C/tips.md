# Microsoft Visual Studio Code C语言开发环境配置

vscode本质上其实还是一个编辑器，要想在这建立一个C开发环境，还安装一个编译器，和对vscode进行相应的配置

下面操作中需要写很多的配置文件的部分我都在我的gitee仓库中提供了模板，只需要做细微改动即可正常使用.

编译器这里选择使用基于MYSY2构建的GCC——MinGW_w64（针对x64架构）和MinGW-i686（针对x86架构）进行安装，在MYSY2中可以方便的对编译器进行更新.

## 01. 配置编译器

### 安装MYSY2
首先要下载并安装MYSY2，可以直接选择以下链接下载  
注意选择你对应的系统架构，建议使用x64  
（由于官方的链接在国外服务器，下载速度较慢，可以自行选择国内的镜像提供的链接进行下载，这里选择清华大学的镜像站）：
> x86架构: <https://mirrors.tuna.tsinghua.edu.cn/msys2/distrib/msys2-i686-latest.exe>  
> x64架构: <https://mirrors.tuna.tsinghua.edu.cn/msys2/distrib/msys2-x86_64-latest.exe>

下载后进行安装，安装完成时选择打开MYSY2  

[!00-1.jpg]()

打开你所选择安装MYSY2的文件夹,在其安装的文件夹下会有三个启动项：  

[!00.jpg]()  

三种启动方式区别主要在于编译环境软件包的不同，如gcc，clang等版本不同。通用的工具如：grep,git,vim,emacs等等在三种方式内都是一样的。  
但是我们的重点需要放在两个文件夹上：mingw32和mingw64  
它们就是之后我们下载编译器的存放位置

首先，我们选择启动mysy2.exe

[!01.jpg]()

[!01-1.jpg]()

### 配置软件源

然后我们需要更新一下软件源，选择国内的镜像站，方便之后快速的下载所需软件及依赖
打开你所选择安装MYSY2的文件夹，找到路径：\etc\pacman.d

[!02.jpg]()

你可以把我在仓库中已经建好的配置文件直接复制到这里替换
>
替换后返回刚刚打开的终端，执行以下命令更新软件源：  
> pacman -Sy

[!03.jpg]()

### 更新操作环境
在终端中执行以下命令更新MYSY2中的软件：  
> pacman -Syu
 
[!04,jpg]()  

输入y，按回车确认更新  

由于更新过程中会重写配置文件，加上网络原因，如果更新卡在这个地方不动：  
[!04-1.jpg]()

**请按下键盘上的`Ctrl + C`结束当前进程，然后关掉终端（就是这个窗口）**  
**然后按上面替换配置文件的步骤重新到那个文件夹下替换一次配置文件**  
**重新打开终端，再重新执行一次`pacman -Syu`命令**
**出现以下界面， 输入y回车安装即可**

[!04-2.jpg]


### 安装MinGW
更新后，分别输入以下两条命令来安装x86和x64架构的MinGW：  
> pacman -S --needed base-devel mingw-w64-i686-toolchain  
> pacman -S --needed base-devel mingw-w64-x86_64-toolchain  

出现以下类似的内容，按回车确认即可
[!05-1.jpg]()

[!05.jpg]()  
[!06.jpg]()  



安装后，查看一下MYSY2根目录下的mingw32和mingw64两个文件夹，是不是已经有文件内容了？  

[!07.jpg]()  
[!08.jpg]()  

### 设置环境变量
分别将mingw32和mingw64两个文件架下的bin文件的目录添加到系统的环境变量中：  

[!09.jpg]()  
[!010.jpg]()  
[!011.jpg]()  
[!012.jpg]()  
[!013.jpg]()  

添加完成后，按下Win+R键，输入cmd并回车  

[!014.jpg]()

输入以下命令回车，查看输出  
`gcc -v`

[!015.jpg]()

如果有类似这样的信息，说明环境变量配置成功

> p.s. 注意这里的上下移动了吗？  
> [!015.jpg]()  
> MYSY2下构建的MinGW不支持指定编译架构选项 '-m32' 如果以后需要换用不同架构的编译器在命令行窗口中进行编译，就需要使用这个上下移动来交换两个不同架构编译器执行路径的位置

## 02.配置Microsoft Visual Studio Code

### 安装vscode
选择


### 安装插件



### 编辑工作区配置文件



### 尝试运行   